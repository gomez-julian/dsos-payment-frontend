(window["webpackJsonpreact-hooks"]=window["webpackJsonpreact-hooks"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=(a(14),a(8)),m=a(1),s=a.n(m),u=a(4),i=a(2),p=a(3);a(5);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var d=function(e){var t={referenceID:"00000000",paymentAmount:0,paymentMethod:"0000000000000000"},a=Object(n.useState)(t),c=Object(i.a)(a,2),o=c[0],l=c[1],m=function(e){var t=e.target,a=t.name,n=t.value;l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o,Object(p.a)({},a,n)))};return r.a.createElement("div",{className:"card border-success mb-3"},r.a.createElement("div",{className:"card-header"},"Nuevo pago"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e.addUser(o),l(t)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"md-form mb-2 col-lg-4"},r.a.createElement("label",null,"Referencia"),r.a.createElement("input",{type:"text",name:"referenceID",value:o.referenceID,onChange:m,className:"form-control validate",autoComplete:"off"})),r.a.createElement("div",{className:"md-form mb-2 col-lg-4"},r.a.createElement("label",null,"Monto"),r.a.createElement("input",{type:"text",name:"paymentAmount",value:o.paymentAmount,onChange:m,className:"form-control validate",autoComplete:"off"})),r.a.createElement("div",{className:"md-form mb-2 col-lg-4"},r.a.createElement("label",null,"Tarjeta de pago"),r.a.createElement("input",{type:"text",name:"paymentMethod",value:o.paymentMethod,onChange:m,className:"form-control validate",autoComplete:"off"}))),r.a.createElement("button",{className:"btn btn-success"},"Pagar"))))};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var b=function(e){var t=Object(n.useState)(e.currentUser),a=Object(i.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){o(e.currentUser)}),[e]);var l=function(e){var t=e.target,a=t.name,n=t.value;o(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,Object(p.a)({},a,n)))};return r.a.createElement("div",{className:"card border-primary mb-3"},r.a.createElement("div",{className:"card-header"},"Actualizar pago"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.updateUser(c.paymentID,c)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"md-form mb-2 col-lg-4"},r.a.createElement("label",null,"Referencia"),r.a.createElement("input",{type:"text",name:"referenceID",value:c.referenceID,onChange:l,className:"form-control validate",autoComplete:"off"})),r.a.createElement("div",{className:"md-form mb-2 col-lg-4"},r.a.createElement("label",null,"Monto"),r.a.createElement("input",{type:"text",name:"paymentAmount",value:c.paymentAmount,onChange:l,className:"form-control validate",autoComplete:"off"})),r.a.createElement("div",{className:"md-form mb-2 col-lg-4"},r.a.createElement("label",null,"Tarjeta de pago"),r.a.createElement("input",{type:"text",name:"paymentMethod",value:c.paymentMethod,onChange:l,className:"form-control validate",autoComplete:"off"}))),r.a.createElement("button",{className:"btn btn-primary mx-1"},"Actualizar"),r.a.createElement("button",{onClick:function(){return e.setEditing(!1)},className:"btn btn-danger mx-1"},"Cancelar"))))},E=function(e){return r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered caption-top"},r.a.createElement("caption",null,"Historial de pagos"),r.a.createElement("thead",{className:"table-primary"},r.a.createElement("tr",null,r.a.createElement("th",{className:"fs-6"},"referenceID"),r.a.createElement("th",{className:"fs-6"},"paymentDate"),r.a.createElement("th",{className:"fs-6"},"paymentStatus"),r.a.createElement("th",{className:"fs-6"},"positivePaymentDate"),r.a.createElement("th",{className:"fs-6"},"paymentAmount"),r.a.createElement("th",{className:"fs-6"},"paymentMethod"),r.a.createElement("th",{className:"fs-6"},"Actions"))),r.a.createElement("tbody",null,e.users.length>0?e.users.map((function(t){return r.a.createElement("tr",{key:t.paymentID},r.a.createElement("td",null,t.referenceID),r.a.createElement("td",null,t.paymentDate),r.a.createElement("td",null,t.paymentStatus),r.a.createElement("td",null,t.positivePaymentDate),r.a.createElement("td",null,t.paymentAmount),r.a.createElement("td",null,t.paymentMethod),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){e.editRow(t)},className:"btn btn-info my-1"},"Editar"),r.a.createElement("button",{onClick:function(){return e.deleteUser(t.paymentID)},className:"btn btn-danger my-1"},"Eliminar")))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:7},"No hay pagos")))))},h="https://payment-development.herokuapp.com/api/payment/",v=function(){var e=Object(n.useState)([{paymentID:100,referenceID:"929184819",address_cp:null,paymentDate:"2022-06-03T13:56:36.625563",paymentStatus:"C",positivePaymentDate:"2022-06-03T17:43:23.579216",paymentAmount:891,paymentMethod:"4718343217000000",statusDelete:null},{paymentID:300,referenceID:"119004822",address_cp:null,paymentDate:"2022-06-03T22:49:31.839",paymentStatus:"P",positivePaymentDate:null,paymentAmount:218,paymentMethod:"2340343217007896",statusDelete:null}]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({referenceID:"00000000",paymentAmount:0,paymentMethod:"0000000000000000"}),m=Object(i.a)(o,2),p=m[0],f=m[1],y=Object(n.useState)(!1),v=Object(i.a)(y,2),g=v[0],O=v[1];function D(){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(s.a.mark((function e(){var t,a,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,fetch(h+"pay",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.a.useEffect((function(){fetch(h+"records").then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(){console.log("Error")}))}),[c]);var N=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h+"delete/"+t,console.log(n),e.next=4,fetch(n,{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 4:r=e.sent,console.log(r.json());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h+"update/"+t,console.log(n),e.next=4,fetch(n,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),D(t).then((function(e){console.log(e),c([].concat(Object(l.a)(a),[e]))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"CRUD de pagos"),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-large"},g?r.a.createElement(n.Fragment,null,r.a.createElement(b,{editing:g,setEditing:O,currentUser:p,updateUser:function(e,t){O(!1);var n=Object.assign({},t);delete n.paymentID,console.log(n),w(e,n).then((function(e){console.log(e.status),console.log(e.json())})),c(a.map((function(a){return a.paymentID===e?t:a})))}})):r.a.createElement(n.Fragment,null,r.a.createElement(d,{addUser:P}))),r.a.createElement("div",{className:"flex-large"},r.a.createElement(E,{users:a,editRow:function(e){O(!0),f({paymentID:e.paymentID,referenceID:e.referenceID,address_cp:e.address_cp,paymentDate:e.paymentDate,paymentStatus:e.paymentStatus,positivePaymentDate:e.positivePaymentDate,paymentAmount:e.paymentAmount,paymentMethod:e.paymentMethod,statusDelete:e.statusDelete})},deleteUser:function(e){O(!1),N(e),c(a.filter((function(t){return t.paymentID!==e})))}}))))};o.a.render(r.a.createElement(v,null),document.getElementById("root"))},5:function(e,t,a){},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.c6fa515f.chunk.js.map